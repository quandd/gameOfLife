<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game of Life</title>
</head>
<body>
<div class="row" id="box-wrap">
</div>
</body>
<style>
    .row {
        display: flex;
        width: 130px;
        flex-wrap: wrap;
    }

    .box {
        height: 10px;
        width: 10px;
        border: 1px solid black;
    }

    .b-box {
        background: black;
    }
</style>
<script>
    const DEATH_CELL = '<div class="box w-box"></div>';
    const LIVE_CELL = '<div class="box b-box"></div>';
    const LIVE = 1;
    const DEATH = 0;

    function setUpLifeData() {
        var lifeGame = [];
        lifeGame.push([0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        lifeGame.push([0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        lifeGame.push([0, 0, 0, 0, 1, 0, 0, 0, 0, 0]);
        lifeGame.push([0, 0, 1, 0, 1, 0, 0, 0, 0, 0]);
        lifeGame.push([0, 0, 0, 1, 1, 0, 0, 0, 0, 0]);
        lifeGame.push([0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        lifeGame.push([0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        lifeGame.push([0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        lifeGame.push([0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        lifeGame.push([0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
        return lifeGame;
    }

    function drawLife(life) {
        var gameOfLine = "";
        for (let i = 0; i < 10; i++) {
            for (let j = 0; j < 10; j++) {
                if (lifeGame[i][j] == 0) {
                    gameOfLine += DEATH_CELL;
                } else {
                    gameOfLine += LIVE_CELL;
                }
            }
        }
        return gameOfLine;
    }

    function myNeighbor(oldLife, i, j) {
        let numberOfNeighbor = 0;
        let len = 9;
        let topAxis = i === 0 ? len : i;
        let botAxis = i === len ? 0 : i;
        let leftAxis = j === 0 ? len : j;
        let rightAxis = j=== len ? 0 : j;

        numberOfNeighbor
            = oldLife[topAxis][leftAxis] + oldLife[topAxis][j] + oldLife[topAxis][rightAxis]
            + oldLife[i][leftAxis] + oldLife[i][rightAxis]
            + oldLife[botAxis][leftAxis] + oldLife[botAxis][j] + oldLife[botAxis][rightAxis];

        return numberOfNeighbor;
    }

    function drawTheGame() {
        for (let i = 0; i < 10; i++) {
            for (let j = 0; j < 10; j++) {
                if (lifeGame[i][j] == 0) {
                    gameOfLine += DEATH_CELL;
                } else {
                    gameOfLine += LIVE_CELL;
                }

                if (i - 1 < 0) {
                    if (j - 1 < 0) {
                        if (lifeGame[i][j] == 1 && (lifeGame[i][j + 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 2 || lifeGame[i][j + 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 3)) {
                            newLifeGame[i][j] = 1;
                        } else if (lifeGame[i][j] == 0 && lifeGame[i][j + 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 3) {
                            newLifeGame[i][j] = 1;
                        } else {
                            newLifeGame[i][j] = 0;
                        }
                    } else if (j + 1 > 9) {
                        if (lifeGame[i][j] == 1 && (lifeGame[i][j - 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] == 2 || lifeGame[i][j - 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] == 3)) {
                            newLifeGame[i][j] = 1;
                        } else if (lifeGame[i][j] == 0 && lifeGame[i][j - 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] == 3) {
                            newLifeGame[i][j] = 1;
                        } else {
                            newLifeGame[i][j] = 0;
                        }
                    } else {
                        if (lifeGame[i][j] == 1 && (lifeGame[i][j - 1] + lifeGame[i][j + 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 2 || lifeGame[i][j - 1] + lifeGame[i][j + 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 3)) {
                            newLifeGame[i][j] = 1;
                        } else if (lifeGame[i][j] == 0 && lifeGame[i][j - 1] + lifeGame[i][j + 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 3) {
                            newLifeGame[i][j] = 1;
                        } else {
                            newLifeGame[i][j] = 0;
                        }
                    }
                } else if (i + 1 > 9) {
                    if (j - 1 < 0) {
                        if (lifeGame[i][j] == 1 && (lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j + 1] == 2 || lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j + 1] == 3)) {
                            newLifeGame[i][j] = 1;
                        } else if (lifeGame[i][j] == 0 && lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j + 1] == 3) {
                            newLifeGame[i][j] = 1;
                        } else {
                            newLifeGame[i][j] = 0;
                        }
                    } else if (j + 1 > 9) {
                        if (lifeGame[i][j] == 1 && (lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i][j - 1] == 2 || lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i][j - 1] == 3)) {
                            newLifeGame[i][j] = 1;
                        } else if (lifeGame[i][j] == 0 && lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i][j - 1] == 3) {
                            newLifeGame[i][j] = 1;
                        } else {
                            newLifeGame[i][j] = 0;
                        }
                    } else {
                        if (lifeGame[i][j] == 1 && (lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j - 1] + lifeGame[i][j + 1] == 2 || lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j - 1] + lifeGame[i][j + 1] == 3)) {
                            newLifeGame[i][j] = 1;
                        } else if (lifeGame[i][j] == 0 && lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j - 1] + lifeGame[i][j + 1] == 3) {
                            newLifeGame[i][j] = 1;
                        } else {
                            newLifeGame[i][j] = 0;
                        }
                    }
                } else {
                    if (j - 1 < 0) {
                        if (lifeGame[i][j] == 1 && (lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j + 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 2 || lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j + 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 3)) {
                            newLifeGame[i][j] = 1;
                        } else if (lifeGame[i][j] == 0 && lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j + 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 3) {
                            newLifeGame[i][j] = 1;
                        } else {
                            newLifeGame[i][j] = 0;
                        }
                    } else if (j + 1 > 9) {
                        if (lifeGame[i][j] == 1 && (lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i][j - 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] == 2 || lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i][j - 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] == 3)) {
                            newLifeGame[i][j] = 1;
                        } else if (lifeGame[i][j] == 0 && lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i][j - 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] == 3) {
                            newLifeGame[i][j] = 1;
                        } else {
                            newLifeGame[i][j] = 0;
                        }
                    } else {
                        if (lifeGame[i][j] == 1 && (lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j - 1] + lifeGame[i][j + 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 2 || lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j - 1] + lifeGame[i][j + 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 3)) {
                            newLifeGame[i][j] = 1;
                        } else if (lifeGame[i][j] == 0 && lifeGame[i - 1][j - 1] + lifeGame[i - 1][j] + lifeGame[i - 1][j + 1] + lifeGame[i][j - 1] + lifeGame[i][j + 1] + lifeGame[i + 1][j - 1] + lifeGame[i + 1][j] + lifeGame[i + 1][j + 1] == 3) {
                            newLifeGame[i][j] = 1;
                        } else {
                            newLifeGame[i][j] = 0;
                        }
                    }
                }
            }
        }
        document.getElementById('box-wrap').innerHTML = gameOfLine;
        gameOfLine = "";
        lifeGame = newLifeGame;
        setTimeout(function () {
            drawTheGame();
        }, 1000);
    }

    drawTheGame();
</script>
</html>
